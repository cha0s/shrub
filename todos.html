<!DOCTYPE html><html lang="en" class="no-code"><head><title>todos</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content=""><meta name="groc-document-path" content="todos"><meta name="groc-project-path" content="documentation/todos.md"><meta name="groc-github-url" content="https://github.com/cha0s/shrub"><link rel="stylesheet" type="text/css" media="all" href="assets/style.css"><script type="text/javascript" src="assets/behavior.js"></script><body><div id="meta"><div class="file-path"><a href="https://github.com/cha0s/shrub/blob/master/documentation/todos.md">documentation/todos.md</a></div></div><div id="document"><div class="segment"><div class="comments"><div class="wrapper"><h1 id="todo-list">TODO list</h1>

<p>Shrub -- like any project -- always presents a path for improvement. This is
a dynamically generated listing of TODO items, each with a line of code
context.</p>

<p><a href="./client/modules/pkgman.html">client/modules/pkgman.coffee</a></p>

<ul>
<li><h4 id="continueiferrortostringiserrorcannotfindmodulename"><code>continue if error.toString() is "Error: Cannot find module '#{name}'"</code></h4>

<p>Should we let this throw? </p></li>
</ul>

<p><a href="./client/modules/shrub-core/index.html">client/modules/shrub-core/index.coffee</a></p>

<ul>
<li><h4 id="routetemplate"><code>route.template ?= ' '</code></h4>

<p>Some method of allowing <code>templateUrl</code>. </p></li>
</ul>

<p><a href="./client/modules/shrub-form/index.html">client/modules/shrub-form/index.coffee</a></p>

<ul>
<li><h4 id="fornamefieldofformspec"><code>for name, field of formSpec</code></h4>

<p>Form field types should be defined by hook. </p></li>
<li><h4 id="iffieldrpc"><code>if field.rpc?</code></h4>

<p>This should be middleware'd, <code>rpc</code> should be implementing it. </p></li>
</ul>

<p><a href="./client/modules/shrub-socket/index.html">client/modules/shrub-socket/index.coffee</a></p>

<ul>
<li><h4 id="socketioconnect"><code>socket = io.connect()</code></h4>

<p>Only Socket.IO at the moment. </p></li>
</ul>

<p><a href="./client/modules/shrub-ui/nav.html">client/modules/shrub-ui/nav.coffee</a></p>

<ul>
<li><h4 id="scopelinkslinks"><code>scope.links = links</code></h4>

<p>This whole thing needs to be overhauled. </p></li>
<li><h4 id="registrarregisterhookservice"><code>registrar.registerHook 'service', -&gt; [</code></h4>

<p>Overhaul this. </p></li>
</ul>

<p><a href="./client/modules/shrub-user/index.html">client/modules/shrub-user/index.coffee</a></p>

<ul>
<li><h4 id="serviceloginmethodusernamepassword"><code>service.login = (method, username, password) -&gt;</code></h4>

<p>username and password are tightly coupled to local strategy. Change that. </p></li>
<li><h4 id="ddelegatefakeloginusernamepasswordpasswordid1"><code>$delegate.fakeLogin = (username, password = 'password', id = 1) -&gt;</code></h4>

<p>This will change when login method generalization happens. </p></li>
<li><h4 id="userhaspermissionpermfalse"><code>User::hasPermission = (perm) -&gt; false</code></h4>

<p>Access control structure. </p></li>
</ul>

<p><a href="./server/shrub-angular/index.html">server/shrub-angular/index.coffee</a></p>

<ul>
<li><h4 id="return"><code>return</code></h4>

<p>need to extract params to build redirectTo, small enough mismatch to ignore for now. </p></li>
</ul>

<p><a href="./server/shrub-form/index.html">server/shrub-form/index.coffee</a></p>

<ul>
<li><h4 id="returnnextunlessbodyformkey"><code>return next() unless body.formKey?</code></h4>

<p>CRSF check needed here. </p></li>
</ul>

<p><a href="./server/shrub-http/manager.html">server/shrub-http/manager.coffee</a></p>

<ul>
<li><h4 id="_middlewaremiddlewarefromhook"><code>@_middleware = middleware.fromHook(</code></h4>

<p>Rename express to http, so we can use a short name. </p></li>
</ul>

<p><a href="./server/shrub-limiter/index.html">server/shrub-limiter/index.coffee</a></p>

<ul>
<li><h4 id="promiseifreqreportvilliany"><code>promise = if req.reportVilliany?</code></h4>

<p>Should this be added by <a href="/server/packages/villiany/index.html">villiany</a>? </p></li>
</ul>

<p><a href="./server/shrub-nodemailer/index.html">server/shrub-nodemailer/index.coffee</a></p>

<ul>
<li><h4 id="ddatauinavdbodyhtml"><code>$('[data-ui-nav]', $body).html """</code></h4>

<p>this kind of thing should be configurable and handled by the theme/skin when we get to that point. </p></li>
</ul>

<p><a href="./server/shrub-user/login.html">server/shrub-user/login.coffee</a></p>

<ul>
<li><h4 id="localstrategyrequirepassportlocalstrategy"><code>LocalStrategy = require('passport-local').Strategy</code></h4>

<p>Strategies should be dynamically defined, probably through a hook. </p></li>
</ul></div></div></div></div></body></html>