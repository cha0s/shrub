<!DOCTYPE html><html lang="en" class="no-code"><head><title>todos</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content=""><meta name="groc-document-path" content="todos"><meta name="groc-project-path" content="documentation/todos.md"><meta name="groc-github-url" content="https://github.com/cha0s/shrub"><link rel="stylesheet" type="text/css" media="all" href="assets/style.css"><script type="text/javascript" src="assets/behavior.js"></script><body><div id="meta"><div class="file-path"><a href="https://github.com/cha0s/shrub/blob/master/documentation/todos.md">documentation/todos.md</a></div></div><div id="document"><div class="segment"><div class="comments"><div class="wrapper"><h1 id="todo-list">TODO list</h1>

<p>Shrub -- like any project -- always presents a path for improvement. This is
a dynamically generated listing of TODO items, each with a line of code
context.</p>

<p><a href="./client/modules/middleware.html">client/modules/middleware.coffee</a></p>

<ul>
<li><h4 id="configkeyifglobalthenpackagesettingselsepackageconfig"><code>configKey = if global? then 'packageSettings' else 'packageConfig'</code></h4>

<p>this really should be unified, making this unnecessary. </p></li>
</ul>

<p><a href="./packages/shrub-angular/index.html">packages/shrub-angular/index.coffee</a></p>

<ul>
<li><h4 id="return"><code>return</code></h4>

<p>need to extract params to build redirectTo, small enough mismatch to ignore for now. </p></li>
</ul>

<p><a href="./packages/shrub-core/client/index.html">packages/shrub-core/client/index.coffee</a></p>

<ul>
<li><h4 id="routetemplate"><code>route.template ?= ' '</code></h4>

<p>Some method of allowing <code>templateUrl</code>. </p></li>
</ul>

<p><a href="./packages/shrub-form/index.html">packages/shrub-form/index.coffee</a></p>

<ul>
<li><h4 id="returnnextunlessbodyformkey"><code>return next() unless body.formKey?</code></h4>

<p>CRSF check needed here. </p></li>
</ul>

<p><a href="./packages/shrub-http/manager.html">packages/shrub-http/manager.coffee</a></p>

<ul>
<li><h4 id="pkgmaninvokehttpinitializingthis"><code>pkgman.invoke 'httpInitializing', this</code></h4>

<p>Remove this hook; implementations should be using <code>bootstrapMiddleware</code>. </p></li>
<li><h4 id="pkgmaninvokeflathttplisteningthis"><code>pkgman.invokeFlat 'httpListening', this</code></h4>

<p>Remove this hook; implementations should be using <code>bootstrapMiddleware</code>. </p></li>
<li><h4 id="_middlewaremiddlewarefromhook"><code>@_middleware = middleware.fromHook(</code></h4>

<p>Rename express to http, so we can use a short name. </p></li>
</ul>

<p><a href="./packages/shrub-limiter/limiter.html">packages/shrub-limiter/limiter.coffee</a></p>

<ul>
<li><h4 id="moduleexportsclasslimiter"><code>module.exports = class Limiter</code></h4>

<p>Rewrite this comment </p></li>
</ul>

<p><a href="./packages/shrub-socket-socket.io/manager.html">packages/shrub-socket-socket.io/manager.coffee</a></p>

<ul>
<li><h4 id="socketsinchannelchannelname"><code>socketsInChannel: (channelName) -&gt;</code></h4>

<p>This only works on a single node. socket.io needs to implement this. </p></li>
</ul>

<p><a href="./packages/shrub-ui/client/list/index.html">packages/shrub-ui/client/list/index.coffee</a></p>

<ul>
<li><h4 id=""><code>)</code></h4>

<p>Fix this when menu handles existing classes more intelligently. element.addClass scope.list.name if scope.list?.name </p></li>
</ul>

<p><a href="./packages/shrub-user/client/index.html">packages/shrub-user/client/index.coffee</a></p>

<ul>
<li><h4 id="serviceloginmethodusernamepassword"><code>service.login = (method, username, password) -&gt;</code></h4>

<p>username and password are tightly coupled to local strategy. Change that. </p></li>
<li><h4 id="servicefakeloginusernamepasswordid"><code>service.fakeLogin = (username, password, id) -&gt;</code></h4>

<p>This will change when login method generalization happens. </p></li>
<li><h4 id="shrubuserusercollections"><code>{'shrub-user': User} = collections</code></h4>

<p>This is broken since ORM change </p></li>
</ul>

<p><a href="./packages/shrub-user/forgot.html">packages/shrub-user/forgot.coffee</a></p>

<ul>
<li><h4 id="loginurl"><code>loginUrl: "#{</code></h4>

<p>HTTPS </p></li>
</ul>

<p><a href="./packages/shrub-user/login.html">packages/shrub-user/login.coffee</a></p>

<ul>
<li><h4 id="localstrategyrequirepassportlocalstrategy"><code>LocalStrategy = require('passport-local').Strategy</code></h4>

<p>Strategies should be dynamically defined through a hook. </p></li>
</ul>

<p><a href="./packages/shrub-user/logout.html">packages/shrub-user/logout.coffee</a></p>

<ul>
<li><h4 id="userbeforelogoutmiddlewaremiddlewarefromshortname"><code>userBeforeLogoutMiddleware = middleware.fromShortName(</code></h4>

<p>Remove res param from implementations. </p></li>
<li><h4 id="userafterlogoutmiddlewaremiddlewarefromshortname"><code>userAfterLogoutMiddleware = middleware.fromShortName(</code></h4>

<p>Remove res param from implementations. </p></li>
</ul>

<p><a href="./packages/shrub-user/register.html">packages/shrub-user/register.coffee</a></p>

<ul>
<li><h4 id="loginurl"><code>loginUrl: "#{</code></h4>

<p>HTTPS </p></li>
<li><h4 id="exportsregisternameemailpassword"><code>exports.register = (name, email, password) -&gt;</code></h4>

<p>Should be a class method on the shrub-user collection. </p></li>
</ul>

<p><a href="./server.html">server.coffee</a></p>

<ul>
<li><h4 id="returnpkgmaninvokereadyunlesserror"><code>return pkgman.invoke 'ready' unless error?</code></h4>

<p>Remove this; implementations should use <code>bootstrapMiddleware</code>. </p></li>
</ul></div></div></div></div></body></html>